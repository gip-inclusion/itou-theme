<!DOCTYPE html>

<html lang="fr">

  <head>
    <title>Itou Theme</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="title" content="Itou Theme">
    <meta property="og:type" content="website">
    <meta property="og:url" content="">
    <meta property="og:title" content="Itou Theme">
    <meta property="og:description" content="">
    <meta property="og:image" content="">

    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="">
    <meta property="twitter:title" content="Itou Theme">
    <meta property="twitter:description" content="">
    <meta property="twitter:image" content="">

    <link rel="shortcut icon" href="./images/favicon.ico" type="image/ico">
    <link rel="stylesheet" href="./stylesheets/app.scss" lang="sass">
    <style>
      .s-home-search__form {
        background-color: var(--bs-light);
        padding: 1rem 1rem 0.5rem 1rem;
        border-radius: 8px;
      }

      .s-home-search__form .input-group-text,
      .s-home-search__form .form-control,
      .s-home-search__form .select2-selection,
      .s-home-search__form .select2-selection--single {
        border-color: var(--bs-white) !important;
      }

      .s-home-search__form .input-group-text {
        padding-left: 8px !important;
      }
    </style>
  </head>

  <body id="top">

    {{> _partials/header-theme }}

    <main class="s-main" role="main">

      <section>
        <div class="container">

          <article class="row py-5" id="bs">
            <div class="col-12">
              <h3>Select2 4.0.x + Thème pour BS5</h3>
              <p>Pour utiliser <a href="https://select2.org/" target="_blank" class="has-external-link">Select2 4.0.x</a> avec son <a href="https://apalfrey.github.io/select2-bootstrap-5-theme/" target="_blank" class="has-external-link">thème BS5</a> il suffit d'ajouter l'appel aux cdn du js</p>
              <pre class="bg-info-lighter p-3">
                <code>
                &#60;script src=&#34;https://cdn.jsdelivr.net/npm/jquery@3.5.0/dist/jquery.slim.min.js&#34;&#62;&#60;/script&#62;&#10;&#60;script src=&#34;https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js&#34; integrity=&#34;sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r&#34; crossorigin=&#34;anonymous&#34;&#62;&#60;/script&#62;&#10;&#60;script src=&#34;https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js&#34; integrity=&#34;sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+&#34; crossorigin=&#34;anonymous&#34;&#62;&#60;/script&#62;&#10;&#60;script src=&#34;https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.full.min.js&#34;&#62;&#60;/script&#62;
                </code>
                </pre>
              <p><i>Les styles seront automatiquement chargés par le thème itou, il est donc inutile d'inclure les styles par défaut.</i></p>
            </div>

            <h5>Exemples</h5>
            <div class="form-group form-group-input-w-md-50">
              <label>Basic single select</label><br>
              <select class="form-select" id="single-select-field" data-placeholder="Choose one thing">
                <option></option>
                <option>Reactive</option>
                <option>Solution</option>
                <option>Conglomeration</option>
                <option>Algoritm</option>
                <option>Holistic</option>
              </select>
            </div>

            <div class="form-group">
              <label>Single select w/ optgroup</label>
              <select class="form-select" id="single-select-optgroup-field" data-placeholder="Choose one thing">
                <option></option>
                <optgroup label="Group 1">
                  <option>Reactive</option>
                  <option>Solution</option>
                  <option>Conglomeration</option>
                </optgroup>
                <optgroup label="Group 2">
                  <option>Algoritm</option>
                  <option>Holistic</option>
                </optgroup>
              </select>
            </div>

            <div class="form-group">
              <label>Single select w/ allow clear</label>
              <select class="form-select" id="single-select-clear-field" data-placeholder="Choose one thing">
                <option></option>
                <option>Reactive</option>
                <option>Solution</option>
                <option>Conglomeration</option>
                <option>Algoritm</option>
                <option>Holistic</option>
              </select>
            </div>

            <div class="form-group">
              <label>Disabled single select</label>
              <select class="form-select" id="single-select-disabled-field" data-placeholder="Choose one thing" disabled>
                <option></option>
                <option>Reactive</option>
                <option>Solution</option>
                <option>Conglomeration</option>
                <option>Algoritm</option>
                <option>Holistic</option>
              </select>
            </div>

            <div class="form-group">
              <label>Multiple select w/ allow clear</label>
              <select class="form-select" id="multiple-select-clear-field" data-placeholder="Choose anything" multiple>
                <option>Christmas Island</option>
                <option>South Sudan</option>
                <option>Jamaica</option>
                <option>Kenya</option>
                <option>French Guiana</option>
                <option>Mayotta</option>
                <option>Liechtenstein</option>
                <option>Denmark</option>
                <option>Eritrea</option>
              </select>
            </div>

            <div class="form-group">
              <label>Input groups</label>
              <div class="input-group mb-3">
                <div class="input-group-text">Prepend</div>
                <select class="form-select" id="prepend-text-single-field" data-placeholder="Choose one thing">
                  <option></option>
                  <option>Reactive</option>
                  <option>Solution</option>
                  <option>Conglomeration</option>
                  <option>Algoritm</option>
                  <option>Holistic</option>
                </select>
              </div>
            </div>

            <div class="form-group">
              <label>Button</label>
              <div class="input-group mb-3">
                <button class="btn btn-outline-secondary" type="button">Prepend</button>
                <select class="form-select" id="prepend-button-single-field" data-placeholder="Choose one thing">
                  <option></option>
                  <option>Reactive</option>
                  <option>Solution</option>
                  <option>Conglomeration</option>
                  <option>Algoritm</option>
                  <option>Holistic</option>
                </select>
              </div>
            </div>

            <div class="form-group">
              <label>Data ajax custom</label>
              <select class="form-select" id="example-data-ajax"></select>
            </div>
        </div>

        </article>

        <hr>
        </div>
      </section>

    </main>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
    <script type="module" src="./javascripts/index.js"></script>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.full.min.js"></script>

    <script>
      $('#single-select-field').select2({
        theme: "bootstrap-5",
        width: $(this).data('width') ? $(this).data('width') : $(this).hasClass('w-100') ? '100%' : 'style',
        placeholder: $(this).data('placeholder'),
      });

      $('#single-select-optgroup-field').select2({
        theme: "bootstrap-5",
        width: $(this).data('width') ? $(this).data('width') : $(this).hasClass('w-100') ? '100%' : 'style',
        placeholder: $(this).data('placeholder'),
      });

      $('#single-select-clear-field').select2({
        theme: "bootstrap-5",
        width: $(this).data('width') ? $(this).data('width') : $(this).hasClass('w-100') ? '100%' : 'style',
        placeholder: $(this).data('placeholder'),
        allowClear: true
      });

      $('#single-select-disabled-field').select2({
        theme: "bootstrap-5",
        width: $(this).data('width') ? $(this).data('width') : $(this).hasClass('w-100') ? '100%' : 'style',
        placeholder: $(this).data('placeholder'),
      });

      $('#multiple-select-clear-field').select2({
        theme: "bootstrap-5",
        width: $(this).data('width') ? $(this).data('width') : $(this).hasClass('w-100') ? '100%' : 'style',
        placeholder: $(this).data('placeholder'),
        closeOnSelect: false,
        allowClear: true,
      });

      $('#prepend-text-single-field').select2({
        theme: "bootstrap-5",
        width: $(this).data('width') ? $(this).data('width') : $(this).hasClass('w-100') ? '100%' : 'style',
        placeholder: $(this).data('placeholder'),
      });

      $('#prepend-button-single-field').select2({
        theme: "bootstrap-5",
        width: $(this).data('width') ? $(this).data('width') : $(this).hasClass('w-100') ? '100%' : 'style',
        placeholder: $(this).data('placeholder'),
      });


      $("#example-data-ajax").select2({
        ajax: {
          url: "https://api.github.com/search/repositories",
          dataType: 'json',
          delay: 250,
          data: function (params) {
            return {
              q: params.term, // search term
              page: params.page
            };
          },
          processResults: function (data, params) {
            // parse the results into the format expected by Select2
            // since we are using custom formatting functions we do not need to
            // alter the remote JSON data, except to indicate that infinite
            // scrolling can be used
            params.page = params.page || 1;

            return {
              results: data.items,
              pagination: {
                more: (params.page * 30) < data.total_count
              }
            };
          },
          cache: true,
        },
        theme: "bootstrap-5",
        width: $(this).data('width') ? $(this).data('width') : $(this).hasClass('w-100') ? '100%' : 'style',
        placeholder: 'Search for a repository',
        minimumInputLength: 1,
        templateResult: formatRepo,
      });

      function formatRepo(repo) {
        if (repo.loading) {
          return repo.text;
        }

        var $container = $(
          "<div class='select2-result-repository clearfix'>" +
          "<div class='select2-result-repository__meta'>" +
          "<div class='select2-result-repository__title'></div>" +
          "</div>" +
          "</div>"
        );

        $container.find(".select2-result-repository__title").text(repo.full_name);
        return $container;
      }
    </script>
  </body>

</html>
